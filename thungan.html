<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Quản lý phòng</title>
</head>
<body>
  <h2>Danh sách phòng</h2>
  <table border="1" id="roomTable">
    <thead>
      <tr>
        <th>Phòng</th>
        <th>Số tiền</th>
        <th>Trạng thái</th>
        <th>Thời gian (E)</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const scriptUrl = "https://script.google.com/macros/s/AKfycbwpqJ9xMu6bb7uMIkquX20Wd0ArKF2dCNTcw1qHSTT8_ImWJUagBv1m40GVgRkvELVP/exec"; // thay bằng URL web app sau khi deploy

    async function loadRooms() {
      const res = await fetch(`${scriptUrl}?action=getRooms`);
      const rooms = await res.json();

      const tbody = document.querySelector("#roomTable tbody");
      tbody.innerHTML = "";

      rooms.forEach(room => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${room.name || ""}</td>
          <td>${room.amount || ""}</td>
          <td>${room.status || ""}</td>
          <td>${room.time || ""}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    loadRooms();
  </script>
</body>
</html>
